<div class="location" *ngIf="vm$ | async as vm">
    <ng-container *ngIf="vm | valid">
        <ng-container *ngIf="vm | data as data">
            <location-map
                *ngIf="data.mapboxEnabled; else noMap"
                [token]="data.token"
                [currentLocation]="data.currentLocation"
                [historicLocations]="data.historicLocations"
            ></location-map>
            <ng-template #noMap>
                <p>
                    <i>
                        De kaart is momenteel niet beschikbaar. In plaats daarvan ben ik te volgen via
                        <a href="https://share.garmin.com/riesj" target="_blank">deze kaart</a>.
                    </i>
                </p>
            </ng-template>
        </ng-container>
    </ng-container>

    <p *ngIf="vm | error"><i>Er is iets fout gegaan bij het laden van de locatie.</i></p>
</div>
